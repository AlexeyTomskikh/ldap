@{
    //Layout = "~/Views/Shared/Layout.cshtml";
}


<center>
    <script type="text/javascript">
        function OnSuccess(data) {
            var results = $('#results'); // получаем нужный элемент
            results.empty(); //очищаем элемент
            results.append('<li>' + data + '</li>'); // добавляем данные в список

        }

        function AddEvent() {

      
            //Читаеем данные с формы
            var formData = {
                NameEvent: $('#NameEvent').val(),
                StartEvent: $('#StartEvent').val(),
                EndEvent: $('#EndEvent').val()
            }

            $.ajax({
                url: "@Url.Action("AddNewEvent" , "Logic")",
                type: 'POST',
                data: JSON.stringify(formData),
                contentType: 'application/json; charset=utf-8',
                dataType: 'json',
                processData: false,
                success: function (result) {
                    if (!result.success) {
                        alert("К сожалению указанное время уже занято. Попробуйте выбрать другое")
                    } else {
                        alert("Мероприятие успешно добавлено")
                        loadEventsOfDay(result.data)  //перегружает список событий в этот день
                        reloadCalendar(result.year, result.month, result.day) // перегружает календарь
                        $(".form").val("")
                    }
                },
                error: function () {
                    alert('Ошибка! Добавление невозможно. Проверьте соединение с интернетом!');
                }

            });
        }
    </script>


    <div>
        @using (Ajax.BeginForm("AddNewEvent", "Logic", new AjaxOptions
        {

            InsertionMode = InsertionMode.InsertAfter,
            OnSuccess = "OnSuccess",


        }))
        {
            <h2>Добавить мероприятие</h2>
            <table class="table-striped table-bordered table-bordered table-hover table-condensed" align="center">

                <tr>
                    <td>@Html.Label("Название:")</td>
                    <td>@Html.Label("Начало")</td>
                    <td>@Html.Label("Конец")</td>
                </tr>

                <tr>
                    <td><input class="form" type="text" name="NameEvent" id="NameEvent" /></td>
                    <td><input class="form" name="StartEvent" id="StartEvent" type="text"></td>
                    <td><input class="form" name="EndEvent" id="EndEvent" type="text"></td>
                    <td><input a class="btn btn-default" role="button" type="button" onclick="AddEvent()"  value="Добавить" /></td>
                </tr>
            </table>
        }



        <form name="my">
            <input name="one" value="1">
            <input name="two" value="2">
        </form>


        <script>
    var form = document.forms.my; // можно document.forms[0]

    var elem = form.elements[0]; // можно form.elements[0]

    alert(elem.value); // 1
        </script>



    </div>

    <div>
  

        
    </div>

</center>

